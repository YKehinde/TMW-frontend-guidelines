<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title></title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
<style>
@media print {.noPrint {display:none;}}
a, a:visited {color: #004;}
body {font-family: helvetica; font-size: 9pt;}
header {border-bottom: 1px solid #000; padding: 3px;}
header .title {margin-top: 0px; margin-bottom: 0px; border-bottom: none; font-size: 12pt;}
header .author {margin-top: 0px; margin-bottom: 0px; font-size: 8pt; color: #666}
header .date {margin-top: 0px; margin-bottom: 0px; font-size: 8pt; color: #666} 
h1 {border-bottom: 1px solid #ccc; font-size: 14pt; color: #000;}
h1 a {color: #000; text-decoration: none;}
h2, h2 a {font-size: 12pt; color: #000; text-decoration: none;}
h3, h3 a {font-size: 10pt; color: #000; text-decoration: none;}
header h2 a {font-size: 10pt;}
header h3 a {font-size: 10pt;}
td.lineNumbers { width: 50px; }
table.sourceCode {border: 1px solid #ccc;}
.header-section-number {color: #aac;}
</style>
</head>
<body>
<h1 id="front-end-dev-guidelines">Front-End Dev guidelines</h1>
<h2 id="overview">Overview</h2>
<p>This document details the guidelines and standards adhered to by the Creative Technology department at TMW, and all web applications built should take these into consideration. It is an evolving document and should be reviewed as and when required to keep up with changes in technology and best practice.</p>
<p>These guidelines have been compiled looking at various previously written guidelines - credit goes to <a href="http://na.isobar.com/standards">Isobar</a> and <a href="https://github.com/csswizardry/CSS-Guidelines/blob/master/CSS%20Guidelines.md">CSS Wizardry</a> both of which have been used as foundations to build upon for this document.</p>
<h2 id="contents">Contents</h2>
<ol type="1">
<li><a href="#section-1">General Guidelines</a></li>
<li><a href="#section-2">Browser Support</a></li>
<li><a href="">Markup</a></li>
</ol>
<h1 id="general-guidelines"><a name="section-1"></a>General Guidelines</h1>
<ol type="1">
<li><p>All front-end code should display clear separation of presentation, content, and behaviour.</p></li>
<li><p>Markup should be well formed, semantically correct and generally valid.</p></li>
<li>Javascript should progressively enhance the experience
<ul>
<li>Use feature detection rather than browser sniffing (edge cases such as performance are acceptable)</li>
</ul></li>
<li><p>Gracefully degrade functionality when not present (e.g GPS, box-shadow, forms etc).</p></li>
</ol>
<h2 id="general-best-practice">General Best Practice</h2>
<h3 id="indentation">Indentation</h3>
<p>For all code languages, indent code with tabs. The default tab size should be set as 4.</p>
<h3 id="readability-vs-compression">Readability vs Compression</h3>
<p>We prefer readability over file-size savings when it comes to maintaining existing files. Plenty of whitespace is encouraged, along with ASCII art, where appropriate. There is no need for any developer to purposefully compress HTML or CSS, nor obfuscate JavaScript.</p>
<p>We will use server-side or build processes to automatically minify and gzip all static client-side files, such as CSS and JavaScript.</p>
<h1 id="browser-support"><a name="section-2"></a>Browser Support</h1>
<p><strong>Support browsers:</strong></p>
<ul>
<li>Internet Explorer 7+</li>
<li>Firefox 3.6+</li>
<li>Google Chrome</li>
<li>Safari 5</li>
<li>Opera</li>
</ul>
<h1 id="base-templates">Base Templates</h1>
<p>We will be using a mashup of <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> and <a href="http://html5boilerplate.com/">H5BP</a>. This is still being fleshed out and will be available on the <a href="https://github.com/organizations/tmwagency">TMW github repo</a>.</p>
<p>There will also be a much stripped back version of this available for simpler template builds, also available on github.</p>
<h1 id="markup">Markup</h1>
<h2 id="html-5">HTML 5</h2>
<p>The HTML5 Doctype and HTML5 features will be used on projects when appropriate.</p>
<p>To ensure HTML5 markup compatibility with older browsers use either:</p>
<ul>
<li><a href="http://www.modernizr.com/">Modernizr</a> - consider bloat, use the build system to decrease size)</li>
<li><a href="http://code.google.com/p/html5shiv/">HTML5shiv</a> - no feature detection, simply ensures markup compatibility</li>
</ul>
<p>We will test our markup against the <a href="http://validator.w3.org/">W3C validator</a>, to ensure that the markup is well formed. 100% valid code is not a goal, but validation certainly helps to write more maintainable sites as well as debugging code. TMW does not guarantee markup is 100% valid, but instead assures the cross-browser experience is consistent.</p>
<h2 id="general-markup-guidelines">General Markup Guidelines</h2>
<p>The following are general guidelines for structuring your HTML markup. Authors are reminded to always use markup which represents the semantics of the content in the document being created.</p>
<ul>
<li>Use p elements for paragraph delimiters as opposed to multiple BR tags.</li>
<li>Make use of DL (definition lists) and BLOCKQUOTE, when appropriate.</li>
<li>Items in list form should always be housed in a UL, OL, or DL, never a set of DIVs or Ps.</li>
<li>Use label fields to label each form field, the for attribute should associate itself with the input field, so users can click the labels. cursor:pointer; on the label is wise, as well.</li>
<li>Do not use the size attribute on your input fields. The size attribute is relative to the font-size of the text inside the input. Instead use css width.</li>
<li>Place an html comment on some closing div tags to indicate what element you're closing. It will help when there is lots of nesting and indentation.</li>
<li>Use microformats and/or Microdata where appropriate, specifically hCard and adr.</li>
<li>Make use of THEAD, TBODY, and TH tags (and Scope attribute) when appropriate.</li>
<li>Always use title-case for headers and titles. Do not use all caps or all lowercase titles in markup, instead apply the CSS property text-transform:uppercase/lowercase.</li>
</ul>
<p>...and the most important rule</p>
<ul>
<li>Tables <strong>shouldn't ever</strong> be used for page layout.</li>
</ul>
<h2 id="quoting-attributes">Quoting Attributes</h2>
<p>While the HTML5 specification defines quotes around attributes as optional for consistency with attributes that accept whitespace, all attributes should be quoted.</p>
<h2 id="character-encoding">Character Encoding</h2>
<p>All markup should be delivered as UTF-8, as its the most friendly for internationalization. It should be designated in both the HTTP header and the head of the document.</p>
<p>Setting the character set using <meta> tags.</p>
<pre><code>&lt;meta charset=&quot;utf-8&quot;&gt;</code></pre>
<h2 id="accessibility">Accessibility</h2>
<p>Consider ARIA integration for high accessibility sites</p>
<h1 id="css">CSS</h1>
<h2 id="general-coding-principles">General Coding Principles</h2>
<ul>
<li>Add CSS through external files, minimizing the number of files, if possible. CSS should always be included in the HEAD of the document.</li>
<li>Use the LINK tag to include, never @import.</li>
<li>Ensure markup and style stays separate (some style classes are allowed, e.g imagereplace etc). Only use style only markup if you have to (e.g extra wrapping elements), consider :before :after css pseudo elements if styles are not 100% necessary</li>
<li>Every time you write inline styles in your markup, a front-end developer somewhere dies - whether it's in a style tag or directly on the elements. Don't do it.</li>
</ul>
<h2 id="syntax-and-formatting">Syntax and formatting</h2>
<ul>
<li>Use multi-line CSS declarations. This helps with version control (diffing single line CSS is a nightmare). Group CSS declarations by type - so keep font related styling together, layout styling together etc - and ordered by relevance, not alphabetized.</li>
<li>Selectors should be (insert fight to the death over hyphens or underscores).</li>
<li>All CSS rules should have a trailing semi-colon.</li>
<li>Use shorthand when specifying multiple values, remember longhand can be shorter for single values.</li>
<li>Multi-attribute selectors should go on separate lines.</li>
<li><p>Don't qualify class or ID selectors</p>
<pre><code>// Bad
div.content {}

// Good
.content {}</code></pre></li>
<li><p>0 requires no units</p>
<pre><code>// Good
.bar,
.foo[href=&quot;bar&quot;] {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    padding: 10px 0 0 0;
    margin: 10px 0;

    background: red;
    border-radius: 10px;
    -moz-border-radius: 10px;
}</code></pre></li>
</ul>
<h2 id="indenting">Indenting</h2>
<p>For each level of markup nesting, indent your CSS to match. For example:</p>
<pre><code>    nav {}
        nav li {}
            nav li a {}

    .content {}
        .content p {}</code></pre>
<h2 id="oocss">OOCSS</h2>
<p>When building components try and keep a DRY, OO frame of mind.</p>
<p>Instead of building dozens of unique components, try and spot repeated design patterns and abstract them; build these skeletons as base 'objects' and then peg classes onto these to extend their styling for more unique circumstances.</p>
<p>If you have to build a new component split it into structure and skin; build the structure of the component using very generic classes so that we can reuse that construct and then use more specific classes to skin it up and add design treatments.</p>
<p>Read: - <a href="http://csswizardry.com/2011/09/the-nav-abstraction/">The Nav Abstraction</a></p>
<h2 id="typography">Typography</h2>
<p>font-face should be used for font replacement where possible - check that the font can be safely used in ttf format on the web in agreement with its licensing agreement. Where this is an issue, look to use tools such as <a href="https://typekit.com/">TypeKit</a> or <a href="http://fontdeck.com/">Fontdeck</a></p>
<p>JavaScript replacement techniques should be avoided where possible, as they are painful, time-consuming and usually inaccurate. Flash replacement techniques (such as Sifr) should never be used.</p>
<p>Define <a href="http://csswizardry.com/2012/02/pragmatic-practical-font-sizing-in-css/">supporting font-size classes</a>, in conjuction with headers to avoid restyling header sizes.</p>
<h2 id="reset-vs-normalisation">Reset vs Normalisation</h2>
<p>There is no set preference to using a reset CSS file or using a normalisation technique, as long as consistency is applied throughout projects.</p>
<p>If a reset is prefered, the <a href="http://html5doctor.com/html-5-reset-stylesheet/">Eric Meyer reloaded reset</a> should be used.</p>
<p>For normalisation, the excellent <a href="http://necolas.github.com/normalize.css/">normalise.css</a> should be included.</p>
<h2 id="comments">Comments</h2>
<p>Comment as much as you can as often as you can. Where it might be useful, include a commented out piece of markup which can help put the current CSS into context.</p>
<p>CSS will be minified before it hits live servers, so don't worry about excessive commenting bloating code - the benefits far outweigh any filesize worries.</p>
<p>This is especially true for responsive layouts where percentage width/margin's have been worked out. Always comment in the ratio so that the resulting % values mean something should someone else look at your code. A random 6dp percentage will mean nothing to anyone else looking at your CSS.</p>
<p>e.g.</p>
<pre><code>    width: 34.042553% /* 320 / 940 */</code></pre>
<h2 id="specificity-ids-and-classes">Specificity, IDs and classes</h2>
<p>CSS is designed to cascade, so make sure you understand <a href="http://www.stuffandnonsense.co.uk/archives/css_specificity_wars.html">cascading and selector specificity</a> - it will enable you to write very terse and effective code.</p>
<p>Use of IDs and classes effect specificity massively. Only use IDs where deemed necessary, especially on larger builds - classes are much more modular and portable. If you want to use an ID solely as a JavaScript hook, consider using the ID alongside a class for CSS styling.</p>
<p>Name classes and IDs by the nature of <em>What it is</em> rather than what it looks like. A class of blueBoxLeft may seem relevant at the time, but should it's colour change, it becomes meaningless. Naming in conjuction with a more OOCSS approach should eliminate this ambiguity.</p>
<h2 id="conditional-stylesheets">Conditional Stylesheets</h2>
<p>IE stylesheets can, by and large, be totally avoided. The only time an IE stylesheet may be required is to circumvent blatant lack of support (e.g. PNG fixes).</p>
<p>As a general rule, all layout and box-model rules can and will work without an IE stylesheet if you refactor and rework your CSS. This means we never want to see <!--[if IE 7]> element{ margin-left:-9px; } < ![endif]--> or other such CSS that is clearly using arbitrary styling to just 'make stuff work'.</p>
<p>If IE specific styling is required as a last resort, look to utilise Paul Irish's <a href="http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">body/html class conditional for IE* targeting</a>.</p>
<h2 id="important">!important</h2>
<p>It is okay to use !important on helper classes only. To add !important preemptively is fine, e.g. .error{ color:red!important }, as you know you will always want this rule to take precedence.</p>
<p>Using !important reactively, e.g. to get yourself out of nasty specificity situations, is not advised. Rework your CSS and try to combat these issues by refactoring your selectors. Keeping your selectors short and avoiding IDs will help out here massively.</p>
<h2 id="images">Images</h2>
<p>Use CSS sprites when possible - <a href="http://www.spritecow.com/">Sprite Cow</a> is a great tool for generating the CSS required for positioning.</p>
<h2 id="debugging">Debugging</h2>
<p>If you run into a CSS problem take code away before you start adding more in a bid to fix it. The problem exists in CSS that is already written, more CSS isn't necessarily the right answer!</p>
<p>It can be tempting to put an overflow:hidden; on something to hide the effects of a layout quirk, but overflow was probably never the problem; fix the problem, not its symptoms.</p>
<h2 id="preprocessors">Preprocessors</h2>
<p>Use of a preprocessor should be used on a per project basis where it is deemed necessary.</p>
<p>Where a preprocessor is used, we shall use <a href="http://lesscss.org/">LESS</a>.</p>
<p>Be sure to know the ins-and-outs of excellent vanilla CSS and where a preprocessor can aid that, not hinder or undo it. Learn the downsides of preprocessors inside-out and then fuse the best aspects of the two with the bad bits of neither.</p>
<h2 id="tools">Tools</h2>
<ul>
<li><a href="http://procssor.com/">Procssor</a> - formats untidy CSS into indented loveliness</li>
</ul>
<h1 id="javascript">Javascript</h1>
<h2 id="libraries">Libraries</h2>
<p>We develop all of our new applications using a mix of native JavaScript and <a href="http://jquery.com/">jQuery</a>.</p>
<h2 id="plugins">Plugins</h2>
<p>We maintain an active wiki detailing the JavaScript and jQuery plugins we use for common use cases such as form validation, carousels and lightboxes. Any additions to this must first be added to the experimental list and then approved by at least 2 members of the team.</p>
<p>All plugins should be added into the projects plugins.js and never included as a separate JS file, as it increases the number of page requests (page requests === bad).</p>
<h2 id="general-coding-principles-1">General Coding Principles</h2>
<ul>
<li>99% of JavaScript should be included in external JavaScript files and included at the END of the BODY tag. The only exception to this rule is <a href="http://modernizr.com/">Modernizr</a> which can be included at the end of the HEAD.</li>
<li>Feature detect, don't browser detect. <a href="http://modernizr.com/">Modernizr</a> is a great resource for doing this.</li>
<li>Name variables and functions logically and in camelCase.</li>
<li>Prefix jQuery collection variables with the dollar ($) character e.g $headerChildren</li>
<li>Class declarations should start with a capital letter.</li>
<li>Constants or configuration variables should be at the start of a class.</li>
<li>Global variables should be written in all caps - although avoid polluting the global namespace</li>
<li><p>Build using the object literal pattern e.g.</p>
<pre><code>var BASENAME = {
    init: function(){
        this.$sections = $(&#39;#container section&#39;),
        this.$additionalTextNodes = $(&#39;section a &gt; span&#39;)
        this.createMarkup();
    },
    createMarkup: function(){
        var $additionalTextNodes = this.$sections.remove();
        &amp;additionalTextNodes.css({
            position: &#39;absolute&#39;,
            top: this.style.left - $sections[0].style.width / 2
        })
    }
}
BASENAME.init();</code></pre></li>
<li><p>Structure and formatting should follow the example below:</p>
<pre><code>$(function(){
    //globals here, in CAPS

    var SiteSetup = {
        animationSpeed: 100,

        init : function () {
            //fire off all other classes
            if (LightBox.$lightbox.length &gt; 0) {
                LightBox.init();
            }                   
        }
    },
    LightBox = {
        $lightbox: $(&#39;.lightbox&#39;),

        init : function () {},
        open : function () {},
        close : function () {}
    };

    SiteSetup.init();
});</code></pre></li>
<li><p>Documentation should follow <a href="http://www.naturaldocs.org/documenting.html">NaturalDocs</a> structure. As with all code, document as frequently as you can - the more detail the better. At the very least, document each function you create.</p></li>
</ul>
<p><strong>Read</strong> <a href="http://net.tutsplus.com/tutorials/javascript-ajax/the-essentials-of-writing-high-quality-javascript/">The Essentials of Writing High Quality JavaScript</a></p>
<h2 id="formatting-and-code-sensibility">Formatting and code sensibility</h2>
<ul>
<li><p>separate operators/comparators with spacing</p>
<pre><code>// Good
if (foo &amp;&amp; foo.bar &amp;&amp; typeof foo.bar === &#39;object&#39;) {
    foo.bar.call();
}

// Terrible
if(foo&amp;&amp;foo.bar&amp;&amp;typeof foo.bar===&#39;object&#39;){
    foo.bar.call();
}</code></pre></li>
<li><p>Use braces for logic evaluations. If evaluation execution is simple, keep non-braced logic on a single line e.g:</p>
<pre><code>// Good
if (i &lt; 10) return true;

// Good
if(foo &amp;&amp; foo.bar &amp;&amp; foo.bar &gt; 10) {
    foo.baz = foo.bar - 100 * 2.7 + &#39;rad&#39;
}

// Bad
if(foo &amp;&amp; foo.bar &amp;&amp; foo.bar &gt; 10)
    foo.baz = foo.bar - 100 * 2.7 + &#39;rad&#39;

// Bad
if(i &lt; 10)
    return true;

// Bad
if(i &lt; 10)
{
    return true;
}</code></pre></li>
<li>Remap this to self when passing context</li>
<li>Always use === as a comparator (unless you really need flexible evaluations e.g comparison to null)</li>
<li>Always add a second radix param to parseInt() to prevent accidental octal issues</li>
<li>Never bother comparing variables to true/false</li>
<li>For large loops, either cache the length variable to prevent re-evaluation or use a reverse while loop</li>
<li>Don't create functions in loops (its slow, and stupid)</li>
<li>When creating functions with many parameters, pass in an object rather than listing numerous parameters.
<ul>
<li>use $.extend if you are using jquery to extend a passed in object while providing defaults</li>
</ul></li>
<li><p>If possible, avoid using bitwise operations unless they really help. If used, document them with comments</p>
<pre><code>// inverting bits to ease comparison to -1
if (~foo.bar.indexOf(&#39;leetness&#39;)){
    alert(&#39;w00t!&#39;)
}</code></pre></li>
</ul>
<h2 id="jquery">jQuery</h2>
<ul>
<li>Always cache dom selection if you plan to re-use data</li>
<li>Use efficient query selectors, write for many browsers, don't assume document.querySelector()</li>
<li>Avoid using $.each for repeated or performance critical functionality, and instead use a for or reverse while loop (especially for large objects)</li>
<li>Use on() and off() handlers for events. Everything else is now depreciated (live, delegate, bind)</li>
<li>When using simple html5 attribute data, simply use $selected.attr('data-foo') unless working with complex data types (where you can use $selected.data())</li>
</ul>
<h2 id="debugging-1">Debugging</h2>
<p>Learn how to use your browser tools properly as it will save you hours in debugging.</p>
<p>If you're using alert() you're doing it wrong. Use console.log(), or <a href="http://paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/">Paul Irish's lightweight wrapper</a></p>
<h2 id="resources">Resources</h2>
<ol type="1">
<li>Forms:
<ul>
<li>Uniform</li>
</ul></li>
<li>jQuery Tools</li>
<li>Ender.js</li>
<li>Require.js</li>
</ol>
<p>This list will eventually go on a separate wiki detailing more specific plugin information.</p>
<h2 id="accessibility-1">Accessibility</h2>
<ul>
<li><a href="http://wave.webaim.org/">Accessibility Testing</a></li>
</ul>
<h2 id="performance">Performance</h2>
</body>
</html>